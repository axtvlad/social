(this.webpackJsonpsocial=this.webpackJsonpsocial||[]).push([[3],{101:function(t,e,r){"use strict";r.r(e);var n=r(24),s=r(25),o=r(27),i=r(26),a=r(1),c=r(0),u=r.n(c),l=r(95),f=r.n(l),p=r(39),j=r(89),b=r(91),d=function(t){var e=t.profileStatus,r=t.updateProfileStatus,n=Object(c.useState)(!1),s=Object(b.a)(n,2),o=s[0],i=s[1],u=Object(c.useState)(e),l=Object(b.a)(u,2),f=l[0],p=l[1];Object(c.useEffect)((function(){p(e)}),[e]);return Object(a.jsxs)("div",{children:[!o&&Object(a.jsx)("div",{children:Object(a.jsx)("span",{id:"profileStatus",onDoubleClick:function(){i(!0)},children:e||"----"})}),o&&Object(a.jsx)("div",{children:Object(a.jsx)("input",{onChange:function(t){var e=t.target.value;p(e)},onBlur:function(){i(!1),r(f)},value:f,type:"text",autoFocus:!0})})]})},O=function(t){var e=t.profile,r=t.updateProfileStatus,n=t.profileStatus;if(!e)return Object(a.jsx)(p.a,{});return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:f.a.descriptionBloc,children:[Object(a.jsx)("img",{src:e.photos.large?e.photos.large:j.a,alt:"avatar",className:f.a.avatar}),Object(a.jsx)(d,{profileStatus:n,updateProfileStatus:r})]})})},h=r(40),v=r(19),m=r(96),x=r.n(m),S=function(t){var e=t.profile,r=t.message,n=t.likes;return Object(a.jsxs)("div",{className:x.a.posts,children:[Object(a.jsxs)("div",{className:x.a.item,children:[Object(a.jsx)("img",{className:x.a.ava,src:e&&e.photos.small?e.photos.small:j.a,alt:"ava"}),r]}),Object(a.jsx)("div",{children:Object(a.jsxs)("span",{children:["like ",n]})})]})},P=r(97),_=r.n(P),y=r(21),g=r(17),k=r(30),I=function(t){var e=t.onSubmit;return Object(a.jsx)(y.b,{onSubmit:e,children:function(t){return Object(a.jsxs)("form",{onSubmit:t.handleSubmit,name:"AddPostForm",children:[Object(a.jsx)("div",{children:Object(a.jsx)(y.a,{component:k.b,name:"postText",validate:Object(g.a)(g.c,Object(g.b)(300)),placeholder:"post msg"})}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{children:"Add post"})})]})}})},N=u.a.memo((function(t){var e=t.posts,r=t.profile,n=t.addPost,s=Object(v.a)(e).reverse().map((function(t){return Object(a.jsx)(S,{profile:r,message:t.message,likes:t.likes,id:t.id},t.id)}));return Object(a.jsxs)("div",{className:_.a.postsBloc,children:[Object(a.jsx)("h3",{children:"my posts"}),Object(a.jsx)(I,{onSubmit:function(t){n(t.postText)}}),Object(a.jsx)("div",{className:_.a.posts,children:s})]})})),A=r(16),B=function(t){return t.profilePage.profile},w=function(t){return t.profilePage.profileStatus},C=function(t){return t.profilePage.posts},E=Object(A.b)((function(t){return{posts:C(t),profile:B(t)}}),{addPost:h.a})(N),F=function(t){var e=t.profile,r=t.profileStatus,n=t.updateProfileStatus;return Object(a.jsxs)("div",{children:[Object(a.jsx)(O,{profile:e,profileStatus:r,updateProfileStatus:n}),Object(a.jsx)(E,{})]})},M=r(6),T=r(90),U=r(15),D=r(20),J=function(t){Object(o.a)(r,t);var e=Object(i.a)(r);function r(){return Object(n.a)(this,r),e.apply(this,arguments)}return Object(s.a)(r,[{key:"componentDidMount",value:function(){var t=this.props,e=t.match,r=t.currentUserId,n=t.history,s=t.getProfile,o=t.getProfileStatus,i=e.params.userId;i||(i=r)||n.push("/profile"),s(i),o(i)}},{key:"render",value:function(){var t=this.props,e=t.profile,r=t.updateProfileStatus,n=t.profileStatus;return Object(a.jsx)(F,{profile:e,updateProfileStatus:r,profileStatus:n})}}]),r}(u.a.Component);e.default=Object(U.d)(Object(A.b)((function(t){return{profile:B(t),currentUserId:Object(D.d)(t),profileStatus:w(t),isAuth:Object(D.b)(t),authorizedUserId:Object(D.a)(t)}}),{getProfile:h.c,getProfileStatus:h.d,updateProfileStatus:h.e}),M.f,T.a)(J)},89:function(t,e,r){"use strict";e.a=r.p+"static/media/user.8d49e377.png"},90:function(t,e,r){"use strict";r.d(e,"a",(function(){return d}));var n=r(3),s=r(24),o=r(25),i=r(27),a=r(26),c=r(1),u=r(0),l=r.n(u),f=r(6),p=r(16),j=r(20),b=function(t){return{isAuth:Object(j.b)(t)}},d=function(t){var e=function(e){Object(i.a)(u,e);var r=Object(a.a)(u);function u(){return Object(s.a)(this,u),r.apply(this,arguments)}return Object(o.a)(u,[{key:"render",value:function(){return this.props.isAuth?Object(c.jsx)(t,Object(n.a)({},this.props)):Object(c.jsx)(f.a,{to:"/login"})}}]),u}(l.a.Component);return Object(p.b)(b)(e)}},91:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r(41);function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,s=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(c){s=!0,o=c}finally{try{n||null==a.return||a.return()}finally{if(s)throw o}}return r}}(t,e)||Object(n.a)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},95:function(t,e,r){t.exports={pic:"ProfileInfo_pic__1mRKR",descriptionBloc:"ProfileInfo_descriptionBloc__3Wn3N",avatar:"ProfileInfo_avatar__3xuFq"}},96:function(t,e,r){t.exports={item:"Post_item__ihtu9",posts:"Post_posts__144VX",ava:"Post_ava__2EGbS"}},97:function(t,e,r){t.exports={postsBloc:"MyPosts_postsBloc__Naxu4",posts:"MyPosts_posts__3tZ1c"}}}]);
//# sourceMappingURL=3.5ed5373d.chunk.js.map