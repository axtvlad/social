(this.webpackJsonpsocial=this.webpackJsonpsocial||[]).push([[5],{263:function(e,t,c){"use strict";c.d(t,"a",(function(){return j}));var s=c(1),i=c(31),n=c(2),o=(c(0),c(35)),r=c(23),a=c(68),l=function(e){return{isAuth:Object(a.b)(e)}};function j(e){return Object(r.b)(l)((function(t){t.isAuth;var c=Object(i.a)(t,["isAuth"]);return t.isAuth?Object(n.jsx)(e,Object(s.a)({},c)):Object(n.jsx)(o.a,{to:"/login"})}))}},294:function(e,t,c){"use strict";c.r(t);var s,i=c(10),n=c(12),o=c(13),r=c(14),a=c(2),l=c(0),j=c.n(l),b=c(1),u=c(8),d=c(105),p=function(e){var t=e.profileStatus,c=e.updateProfileStatus,s=Object(l.useState)(!1),i=Object(u.a)(s,2),n=i[0],o=i[1],r=Object(l.useState)(t),j=Object(u.a)(r,2),b=j[0],d=j[1];Object(l.useEffect)((function(){d(t)}),[t]);return Object(a.jsxs)(a.Fragment,{children:[!n&&Object(a.jsx)("div",{children:Object(a.jsx)("b",{children:Object(a.jsx)("span",{id:"profileStatus",onDoubleClick:function(){o(!0)},children:t||"----"})})}),n&&Object(a.jsx)("div",{children:Object(a.jsx)("input",{onChange:function(e){var t=e.target.value;d(t)},onBlur:function(){o(!1),c(b)},value:b,type:"text",autoFocus:!0})})]})},O=c(6),f=c(42);!function(e){e.fullName="fullName",e.lookingForAJob="lookingForAJob",e.lookingForAJobDescription="lookingForAJobDescription",e.aboutMe="aboutMe"}(s||(s={}));var h,x=function(e){var t,c=e.saveProfile,i=e.profile,n=i.fullName,o=i.lookingForAJob,r=i.lookingForAJobDescription,l=i.aboutMe,j=i.contacts,b=(t={},Object(O.a)(t,s.fullName,n),Object(O.a)(t,s.lookingForAJob,o),Object(O.a)(t,s.lookingForAJobDescription,r),Object(O.a)(t,s.aboutMe,l),Object(O.a)(t,"contacts",j),t),u={span:{fontWeight:"bold"},grids:{display:"grid",width:200},lookingForAJob:{display:"flex"}};return Object(a.jsx)(f.d,{onSubmit:function(e,t){var s=t.setSubmitting;c(e),s(!1)},initialValues:b,children:function(e){var t=e.isSubmitting;return Object(a.jsxs)(f.c,{style:u.grids,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{style:u.span,children:"Full name:"}),Object(a.jsx)(f.b,{name:s.fullName,placeholder:"Full name",type:"text"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{style:u.span,children:"Looking for a job?"}),Object(a.jsx)(f.b,{style:u.lookingForAJob,name:s.lookingForAJob,type:"checkbox"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{style:u.span,children:"My skills"}),Object(a.jsx)(f.b,{name:s.lookingForAJobDescription,placeholder:"My skills",component:"textarea"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{style:u.span,children:"About me"}),Object(a.jsx)(f.b,{name:s.aboutMe,placeholder:"About me",component:"textarea"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Contacts"}),":",Object.keys(j).map((function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{style:u.span,children:e}),Object(a.jsx)(f.b,{name:"contacts."+e,placeholder:e,type:"text",initialValue:j[e]})]},e)}))]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{type:"submit",disabled:t,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})}})},v=function(e){var t=e.contactTitle,c=e.contactValue;return Object(a.jsxs)("div",{style:{paddingLeft:10},children:[Object(a.jsx)("b",{children:t}),": ",Object(a.jsx)("a",{href:c,target:"_blank",rel:"noreferrer",children:c})]})},m=function(e){var t=e.profile,c=e.editModeOn,s=e.isOwner,i=t.fullName,n=t.lookingForAJob,o=t.lookingForAJobDescription,r=t.aboutMe,l=t.contacts;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Full name"}),": ",i]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Looking for a job"}),": ",n?"yes":"no"]}),n&&Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"My skills"}),": ",o]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"About me"}),": ",r]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("b",{children:"Contacts"}),":",Object.keys(l).map((function(e){return Object(a.jsx)(v,{contactTitle:e,contactValue:l[e]},e)}))]}),s&&Object(a.jsx)("div",{children:Object(a.jsx)("button",{onClick:c,children:"Edit user's data"})})]})},g=c(293),y=c(292),k=c(251),P=c(257),A=c(264),S=c(296),F=function(e){var t=e.profile,c=e.updateProfileStatus,s=e.profileStatus,i=e.isOwner,n=e.uploadPhoto,o=e.saveProfileData,r=Object(l.useState)(!1),j=Object(u.a)(r,2),b=j[0],O=j[1],f={descriptionBlock:{padding:10},card:{width:250}};return Object(a.jsxs)("div",{style:f.descriptionBlock,children:[Object(a.jsx)(g.a,{style:f.card,bordered:!0,actions:i?[Object(a.jsx)(y.a,{listType:"picture",showUploadList:!1,type:"select",multiple:!1,accept:".png,.jpeg,.jpg,.svg,.heic",customRequest:function(e){n(e.file)},children:Object(a.jsx)(k.a,{type:"dashed",icon:Object(a.jsx)(S.a,{})})})]:[],children:Object(a.jsx)(A.a,{avatar:Object(a.jsx)(P.a,{size:200,src:t.photos.large||d.a})})}),i&&b?Object(a.jsx)(x,{saveProfile:function(e){o(e).then((function(){O(!1)}))},profile:t}):Object(a.jsx)(m,{editModeOn:function(){O(!0)},profile:t,isOwner:i}),Object(a.jsx)(p,{profileStatus:s,updateProfileStatus:c})]})},J=c(84),D=c(7),M=function(e){var t=e.profile,c=e.message,s=e.likes,i={item:{color:"black"},posts:{color:"green"},ava:{width:30,height:30,borderRadius:40}};return Object(a.jsxs)("div",{style:i.posts,children:[Object(a.jsxs)("div",{style:i.item,children:[Object(a.jsx)("img",{style:i.ava,src:function(){var e;return null!==(e=null===t||void 0===t?void 0:t.photos.small)&&void 0!==e?e:d.a}(),alt:"ava"}),c]}),Object(a.jsx)("div",{children:Object(a.jsxs)("span",{children:["like ",s]})})]})};!function(e){e.postText="postText"}(h||(h={}));var w=j.a.memo((function(e){var t=e.addPost,c=Object(O.a)({},h.postText,"");return Object(a.jsx)(f.d,{onSubmit:function(e,c){var s=c.setSubmitting;t(e),s(!1)},initialValues:c,children:function(e){var t=e.isSubmitting;return Object(a.jsxs)(f.c,{children:[Object(a.jsx)(f.b,{component:"textarea",name:h.postText}),Object(a.jsx)(f.a,{name:h.postText,component:"div"}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{type:"submit",disabled:t,children:"Add post"})})]})}})})),T=c(23),C=c(106),I=c(108),N=j.a.memo((function(e){var t=Object(T.d)(C.a),c=Object(T.d)(C.b),s=Object(T.c)(),i=Object(D.a)(t).reverse().map((function(e){return Object(a.jsx)(M,{profile:c,message:e.message,likes:e.likes},e.id)})),n={postsBloc:{padding:10},posts:{marginTop:5}};return Object(a.jsxs)("div",{style:n.postsBloc,children:[Object(a.jsx)("h3",{children:"my posts"}),Object(a.jsx)(w,{addPost:function(e){s(I.a.addPost(e))}}),Object(a.jsx)("div",{style:n.posts,children:i})]})})),B=function(e){return e.profile?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(F,Object(b.a)({},e)),Object(a.jsx)(N,{})]}):Object(a.jsx)(J.a,{})},V=c(35),L=c(263),U=c(57),E=c(68),R=function(e){Object(o.a)(c,e);var t=Object(r.a)(c);function c(){var e;Object(i.a)(this,c);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).refreshProfile=function(){var t=e.props,c=t.match,s=t.currentUserId,i=t.getProfile,n=t.getProfileStatus,o=+c.params.userId;if(!o&&!(o=s))return Object(a.jsx)(V.a,{to:"/login"});i(o),n(o)},e}return Object(n.a)(c,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){var e=this.props,t=e.profile,c=e.updateProfileStatus,s=e.profileStatus,i=e.match,n=e.uploadPhoto,o=e.saveProfileData;return t?Object(a.jsx)(B,{isOwner:!i.params.userId,profile:t,updateProfileStatus:c,profileStatus:s,uploadPhoto:n,saveProfileData:o}):Object(a.jsx)(J.a,{})}}]),c}(j.a.Component);t.default=Object(U.d)(Object(T.b)((function(e){return{profile:Object(C.b)(e),currentUserId:Object(E.d)(e),profileStatus:Object(C.c)(e),isAuth:Object(E.b)(e)}}),{getProfile:I.b,getProfileStatus:I.c,updateProfileStatus:I.f,uploadPhoto:I.g,saveProfileData:I.e}),V.h,L.a)(R)}}]);
//# sourceMappingURL=5.e9ac8f10.chunk.js.map