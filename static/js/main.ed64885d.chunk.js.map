{"version":3,"sources":["utils/validators/validators.js","Redux/selectors/authSelectors.js","components/common/FormsControls/FormsControls.jsx","components/Navbar/Navbar.module.css","components/Header/Header.module.css","components/common/FormsControls/FormsControls.module.css","components/common/Preloader/Preloader.jsx","Redux/reducers/profileReducer.js","Redux/reducers/dialogsReducer.js","utils/helpers/objectHelpers.js","Redux/reducers/usersReducer.js","components/common/Preloader/Preloader.module.css","api/api.js","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","media/Ava.jpg","components/Header/Header.jsx","Redux/reducers/authReducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","Redux/reducers/appReducer.js","Redux/redux-store.js","hoc/withSuspense.jsx","App.js","index.js"],"names":["composeValidators","validators","value","reduce","error","validator","undefined","required","maxLength","length","getIsAuthSelector","state","auth","isAuth","getLoginSelector","login","getUserIdSelector","userId","FormControls","input","meta","touched","props","child","hasError","className","classes","formControl","children","Textarea","restProps","Input","module","exports","Preloader","loader","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_IS_FETCHING","SET_PROFILE_STATUS","UPDATE_PHOTO_SUCCESS","initial","posts","id","message","likes","profile","isFetching","profileStatus","profileReducer","action","type","postText","filter","post","photos","addPost","setIsFetching","setProfileStatus","updatePhotoSuccess","data","getProfile","dispatch","a","profileAPI","getProfileStatus","updateProfileStatus","response","resultCode","messages","alert","uploadPhoto","photo","saveProfileData","profileData","getState","saveProfile","Promise","reject","SEND_MESSAGE","dialogs","name","dialogsReducer","messageText","sendMessage","updateObjectInArray","items","itemId","objPropName","newObjProps","map","item","FOLLOW","UNFOLLOW","SET_USERS","SET_TOTAL_USERS_COUNT","SET_CURRENT_PAGE","SET_FOLLOWING_IN_PROGRESS","users","pageSize","totalUsersCount","currentPage","followingInProgress","usersReducer","followed","followSuccess","unfollowSuccess","setFollowingInProgress","followUnfollowFlow","apiMethod","actionCreator","getUsersList","page","usersAPI","getUsers","totalCount","follow","unfollow","api","axios","withCredentials","headers","baseURL","pageNumber","get","then","delete","authAPI","me","formData","logout","status","put","FormData","append","securityAPI","getCaptchaUrl","Navbar","nav","to","link","activeClassName","active","News","Music","Settings","Header","header","logo","src","ava","alt","loginBlock","onClick","SET_AUTH_USER_DATA","GET_CAPTCHA_URL_SUCCESS","email","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getCaptcha","url","HeaderContainer","this","React","Component","connect","LoginForm","onSubmit","handleSubmit","placeholder","component","validate","INITIALIZED_SUCCESS","initialized","globalError","reducers","combineReducers","profilePage","dialogsPage","usersPage","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","withSuspense","loading","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","UsersContainer","App","initializeApp","exact","from","render","path","AppContainer","withRouter","promise","all","SocialApp","StrictMode","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.ed64885d.chunk.js","sourcesContent":["export const composeValidators = (...validators) => value =>\n    validators.reduce((error, validator) => error || validator(value), undefined);\n\nexport const required = (value) => {\n    if (value) {\n        return undefined;\n    }\n\n    return 'Field is required';\n}\n\nexport const maxLength = (maxLength) => value => {\n    if (value.length > maxLength) {\n        return `Max length is ${maxLength} symbols`;\n    }\n\n    return undefined;\n}","export const getIsAuthSelector = (state) => {\n    return state.auth.isAuth;\n}\n\nexport const getLoginSelector = (state) => {\n    return state.auth.login;\n}\n\nexport const getUserIdSelector = (state) => {\n    return state.auth.userId;\n}","import React from 'react';\nimport classes from './FormsControls.module.css';\n\nconst FormControls = ({input, meta: {touched, error}, child, ...props}) => {\n    const hasError = touched && error;\n\n    return (\n        <div className={classes.formControl + ' ' + (hasError ? classes.error : '')}>\n            <div>\n                {props.children}\n            </div>\n            {hasError &&\n            <div>\n                <span>{error}</span>\n            </div>\n            }\n        </div>\n    )\n}\n\nexport const Textarea = (props) => {\n    const {input, meta, child, ...restProps} = props;\n\n    return <FormControls {...props}><textarea {...input} {...restProps}/></FormControls>\n}\n\nexport const Input = (props) => {\n    const {input, meta, child, ...restProps} = props;\n\n    return <FormControls {...props}><input {...input} {...restProps}/></FormControls>\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"item\":\"Navbar_item__zmMk4\",\"active\":\"Navbar_active__3mbhk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"logo\":\"Header_logo__3_SJs\",\"loginBlock\":\"Header_loginBlock__6mma5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3oI2W\",\"error\":\"FormsControls_error__9lcue\"};","import React from 'react';\nimport classes from './Preloader.module.css';\n\nconst Preloader = () => {\n    return (\n        <div className={classes.loader}/>\n    )\n}\n\nexport default Preloader;","import {profileAPI} from \"../../api/api\";\n\n/**\n * CONSTANTS\n *\n * Constants for action creators\n */\nconst ADD_POST = 'social/profile/ADD_POST';\nconst DELETE_POST = 'social/profile/DELETE_POST';\nconst SET_USER_PROFILE = 'social/profile/SET_USER_PROFILE';\nconst SET_IS_FETCHING = 'social/profile/SET_IS_FETCHING';\nconst SET_PROFILE_STATUS = 'social/profile/SET_PROFILE_STATUS';\nconst UPDATE_PHOTO_SUCCESS = 'social/profile/UPDATE_PHOTO_SUCCESS';\n\n/**\n * INITIAL\n *\n * posts - [] - posts array\n * profile - [default: null] - Con be (null) or (object). If profile is pended then (object) else (null)\n * isFetching - [default: false] - Con be (false) or (true). If profile is fetching then (true) else (false)\n * profileStatus - [default: ''] - Con be (empty string) or (filled string). If profile status is pended then (profileStatus) else (empty string)\n */\nconst initial = {\n    posts: [\n        {\n            id: 1,\n            message: 'happy ny!',\n            likes: 3\n        }, {\n            id: 2,\n            message: 'it is my first post',\n            likes: 5\n        },\n    ],\n    profile: null,\n    isFetching: false,\n    profileStatus: '',\n}\n\nexport const profileReducer = (state = initial, action) => {\n    switch (action.type) {\n        case ADD_POST: {\n            return {\n                ...state,\n                posts: [...state.posts, {\n                    id: 3,\n                    message: action.postText,\n                    likes: 0,\n                }],\n            };\n        }\n        case SET_USER_PROFILE: {\n            return {\n                ...state,\n                profile: action.profile\n            };\n        }\n        case DELETE_POST: {\n            return {\n                ...state,\n                posts: state.posts.filter(post => post.id !== action.id)\n            };\n        }\n        case SET_IS_FETCHING: {\n            return {\n                ...state,\n                isFetching: action.isFetching\n            };\n        }\n        case SET_PROFILE_STATUS: {\n            return {\n                ...state,\n                profileStatus: action.profileStatus\n            };\n        }\n        case UPDATE_PHOTO_SUCCESS: {\n            return {\n                ...state,\n                profile: {\n                    ...state.profile,\n                    photos: action.photos\n                }\n            };\n        }\n        default: {\n            return state;\n        }\n    }\n}\n\nexport const addPost = (postText) => (\n    {\n        type: ADD_POST,\n        postText: postText\n    }\n);\n\nexport const deletePost = (id) => (\n    {\n        type: DELETE_POST,\n        id: id\n    }\n);\n\nconst setUserProfile = (profile) => (\n    {\n        type: SET_USER_PROFILE,\n        profile: profile\n    }\n);\n\nconst setIsFetching = (isFetching) => (\n    {\n        type: SET_IS_FETCHING,\n        isFetching: isFetching\n    }\n);\n\nconst setProfileStatus = (profileStatus) => (\n    {\n        type: SET_PROFILE_STATUS,\n        profileStatus: profileStatus\n    }\n);\n\nconst updatePhotoSuccess = (data) => (\n    {\n        type: UPDATE_PHOTO_SUCCESS,\n        data: data\n    }\n);\n\nexport const getProfile = (userId) => async (dispatch) => {\n    dispatch(setIsFetching(true))\n\n    const data = await profileAPI.getProfile(userId);\n\n    dispatch(setUserProfile(data))\n    dispatch(setIsFetching(false))\n}\n\nexport const getProfileStatus = (userId) => async (dispatch) => {\n    const profileStatus = await profileAPI.getProfileStatus(userId);\n\n    dispatch(setProfileStatus(profileStatus))\n}\n\nexport const updateProfileStatus = (profileStatus) => async (dispatch) => {\n    try {\n        const response = await profileAPI.updateProfileStatus(profileStatus);\n\n        if (response.data.resultCode === 0) {\n            dispatch(setProfileStatus(profileStatus))\n        } else {\n            if (response.data.messages.length) {\n                alert(response.data.messages[0]);\n            }\n        }\n    } catch (error) {\n        alert(error.message)\n    }\n}\n\nexport const uploadPhoto = (photo) => async (dispatch) => {\n    const data = await profileAPI.uploadPhoto(photo);\n\n    if (data.resultCode === 0) {\n        dispatch(updatePhotoSuccess(data.data.photos))\n    } else {\n        if (data.messages.length) {\n            alert(data.messages[0]);\n        }\n    }\n}\n\nexport const saveProfileData = (profileData) => async (dispatch, getState) => {\n    const userId = getState().auth.userId;\n    const data = await profileAPI.saveProfile(profileData);\n\n    if (data.resultCode === 0) {\n        dispatch(getProfile(userId));\n    } else {\n        if (data.messages.length) {\n            alert(data.messages[0]);\n            await Promise.reject(data.messages[0]);\n        }\n    }\n}","/**\n * CONSTANTS\n *\n * Constants for action creators\n */\nconst SEND_MESSAGE = 'social/dialogs/SEND_MESSAGE';\n\n/**\n * INITIAL\n *\n * dialogs - [default: [object]] - dialogs array\n * messages - [default: [object]] - messages array\n */\nconst initial = {\n    dialogs: [\n        {\n            id: 1,\n            name: 'Dima'\n        }, {\n            id: 2,\n            name: 'Andrew'\n        }\n    ],\n    messages: [\n        {\n            id: 1,\n            message: 'HI!'\n        }, {\n            id: 2,\n            message: 'YO!'\n        }, {\n            id: 3,\n            message: 'Vlad! Happy NY!!'\n        }, {\n            id: 4,\n            message: 'Hi, how r u?'\n        },\n    ],\n}\n\nexport const dialogsReducer = (state = initial, action) => {\n    switch (action.type) {\n        case SEND_MESSAGE: {\n            return {\n                ...state,\n                messages: [...state.messages, {\n                    id: 5,\n                    message: action.messageText\n                }]\n            }\n        }\n        default: {\n            return state;\n        }\n    }\n}\n\nexport const sendMessage = (messageText) => (\n    {\n        type: SEND_MESSAGE,\n        messageText: messageText\n    }\n)","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\n    return items.map(item => {\n        if (item[objPropName] === itemId) {\n            return {\n                ...item,\n                ...newObjProps\n            }\n        }\n\n        return item;\n    })\n}","import {usersAPI} from \"../../api/api\";\nimport {updateObjectInArray} from \"../../utils/helpers/objectHelpers\";\n\n/**\n * CONSTANTS\n *\n * Constants for action creators\n */\nconst FOLLOW = 'social/users/FOLLOW';\nconst UNFOLLOW = 'social/users/UNFOLLOW';\nconst SET_USERS = 'social/users/SET_USERS';\nconst SET_TOTAL_USERS_COUNT = 'social/users/SET_TOTAL_USERS_COUNT';\nconst SET_CURRENT_PAGE = 'social/users/SET_CURRENT_PAGE';\nconst SET_IS_FETCHING = 'social/users/SET_IS_FETCHING';\nconst SET_FOLLOWING_IN_PROGRESS = 'social/users/SET_FOLLOWING_IN_PROGRESS';\n\n/**\n * INITIAL\n *\n * users - [default: []] - Can be (empty array) or (filled array). Array of users\n * pageSize - [default: 5] - Con be (number). Users count per page\n * totalUsersCount - [default: 0] - Con be (number). Total users count in db\n * currentPage - [default: 1] - Con be (number). Which page is showing\n * followingInProgress - [default: []] - Con be (empty array) or (filled array). This array includes users which need do following or unfollowing\n * isFetching - [default: false] - Con be (true) or (false). If users is pending then (true) else (false)\n */\nconst initial = {\n    users: [],\n    pageSize: 5,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: false,\n    followingInProgress: [],\n}\n\nexport const usersReducer = (state = initial, action) => {\n    switch (action.type) {\n        case FOLLOW: {\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\n            }\n        }\n        case UNFOLLOW: {\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\n            }\n        }\n        case SET_USERS: {\n            return {\n                ...state,\n                users: action.users\n            }\n        }\n        case SET_TOTAL_USERS_COUNT: {\n            return {\n                ...state,\n                totalUsersCount: action.totalUsersCount\n            }\n        }\n        case SET_CURRENT_PAGE: {\n            return {\n                ...state,\n                currentPage: action.currentPage\n            }\n        }\n        case SET_IS_FETCHING: {\n            return {\n                ...state,\n                isFetching: action.isFetching\n            }\n        }\n        case SET_FOLLOWING_IN_PROGRESS: {\n            return {\n                ...state,\n                followingInProgress: action.isFetching\n                    ? [...state.followingInProgress, action.userId]\n                    : state.followingInProgress.filter(id => id !== action.userId)\n            }\n        }\n        default: {\n            return state;\n        }\n    }\n}\n\nconst followSuccess = (userId) => (\n    {\n        type: FOLLOW,\n        userId: userId\n    }\n)\n\nconst unfollowSuccess = (userId) => (\n    {\n        type: UNFOLLOW,\n        userId: userId\n    }\n)\n\nconst setUsers = (users) => (\n    {\n        type: SET_USERS,\n        users: users\n    }\n)\n\nconst setTotalUsersCount = (totalUsersCount) => (\n    {\n        type: SET_TOTAL_USERS_COUNT,\n        totalUsersCount: totalUsersCount\n    }\n)\n\nconst setCurrentPage = (currentPage) => (\n    {\n        type: SET_CURRENT_PAGE,\n        currentPage: currentPage\n    }\n)\n\nconst setIsFetching = (isFetching) => (\n    {\n        type: SET_IS_FETCHING,\n        isFetching: isFetching\n    }\n)\n\nconst setFollowingInProgress = (isFetching, userId) => (\n    {\n        type: SET_FOLLOWING_IN_PROGRESS,\n        isFetching: isFetching,\n        userId: userId\n    }\n)\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n    dispatch(setFollowingInProgress(true, userId));\n\n    const data = await apiMethod(userId);\n\n    if (data.resultCode === 0) {\n        dispatch(actionCreator(userId))\n    }\n\n    dispatch(setFollowingInProgress(false, userId))\n}\n\nexport const getUsersList = (pageSize, page) => async (dispatch) => {\n    dispatch(setIsFetching(true));\n    dispatch(setCurrentPage(page));\n\n    const data = await usersAPI.getUsers(pageSize, page);\n\n    dispatch(setUsers(data.items));\n    dispatch(setTotalUsersCount(data.totalCount));\n    dispatch(setIsFetching(false))\n}\n\nexport const follow = (userId) => async (dispatch) => {\n    await followUnfollowFlow(dispatch, userId, usersAPI.follow, followSuccess);\n}\n\nexport const unfollow = (userId) => async (dispatch) => {\n    await followUnfollowFlow(dispatch, userId, usersAPI.unfollow, unfollowSuccess);\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Preloader_loader__wv7rF\",\"spin\":\"Preloader_spin__1PEvw\"};","import * as axios from \"axios\";\n\nconst api = axios.create({\n    withCredentials: true,\n    headers: {\n        'API-KEY': '5a02e0ce-1492-47cd-b69a-6445510cc320',\n    },\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\n})\n\nexport const usersAPI = {\n    getUsers(pageSize = 5, pageNumber = 1) {\n        return api.get(`users?count=${pageSize}&page=${pageNumber}`)\n            .then(response => response.data);\n    },\n    follow(userId) {\n        return api.post(`follow/${userId}`)\n            .then(response => response.data);\n    },\n    unfollow(userId) {\n        return api.delete(`follow/${userId}`)\n            .then(response => response.data);\n    }\n}\n\nexport const authAPI = {\n    me() {\n        return api.get(`auth/me`)\n            .then(response => response.data);\n    },\n    login(formData) {\n        return api.post(`auth/login`, formData)\n            .then(response => response.data);\n    },\n    logout() {\n        return api.delete(`auth/login`)\n            .then(response => response.data);\n    }\n}\n\nexport const profileAPI = {\n    getProfile(userId) {\n        return api.get(`profile/${userId}`)\n            .then(response => response.data)\n    },\n    getProfileStatus(userId) {\n        return api.get(`profile/status/${userId}`).then(response => response.data)\n    },\n    updateProfileStatus(status) {\n        return api.put(`profile/status`, {\n            status: status\n        })\n            .then(response => response)\n    },\n    uploadPhoto(photo) {\n        const formData = new FormData();\n\n        formData.append('image', photo);\n\n        return api.put(`profile/photo`, formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        })\n            .then(response => response.data)\n    },\n    saveProfile(profileData) {\n        return api.put(`profile`, profileData)\n            .then(response => response.data)\n    }\n}\n\nexport const securityAPI = {\n    getCaptchaUrl() {\n        return api.get(`security/get-captcha-url`)\n            .then(response => response)\n    }\n}","import React from 'react';\nimport classes from './Navbar.module.css';\nimport {NavLink} from \"react-router-dom\";\n\nconst Navbar = () => {\n    const links = [\n        {\n            to: '/profile',\n            name: 'Profile'\n        }, {\n            to: '/dialogs',\n            name: 'Dialogs'\n        }, {\n            to: '/users',\n            name: 'Users'\n        }, {\n            to: '/settings',\n            name: 'Settings'\n        }\n    ]\n\n    return (\n        <nav className={classes.nav}>\n            {links.map(link => {\n                return (\n                    <div className={classes.item} key={link.to}>\n                        <NavLink to={link.to} activeClassName={classes.active}>\n                            {link.name}\n                        </NavLink>\n                    </div>\n                )\n            })}\n        </nav>\n    );\n}\n\nexport default Navbar;\n","import React from 'react';\n\nconst News = () => {\n    return (\n        <div>\n            news\n        </div>\n    )\n}\n\nexport default News;","import React from 'react';\n\nconst Music = () => {\n    return (\n        <div>\n            music\n        </div>\n    )\n}\n\nexport default Music;","import React from 'react';\n\nconst Settings = () => {\n    return (\n        <div>\n            settings\n        </div>\n    )\n}\n\nexport default Settings;","export default __webpack_public_path__ + \"static/media/Ava.33982d13.jpg\";","import React from 'react';\nimport classes from './Header.module.css';\nimport ava from '../../media/Ava.jpg';\nimport {NavLink} from \"react-router-dom\";\n\nconst Header = (props) => {\n    return (\n        <div className={classes.header}>\n            <img className={classes.logo} src={ava} alt={'logo'}/>\n            <div className={classes.loginBlock}>\n                {props.isAuth\n                    ? <div>{props.login}\n                        <button onClick={props.logout}>Logout</button>\n                    </div>\n                    : <NavLink to={'/login'}>\n                        Login\n                    </NavLink>\n                }\n            </div>\n        </div>\n    );\n}\n\nexport default Header;\n","import {authAPI, securityAPI} from \"../../api/api\";\n\n/**\n * CONSTANTS\n *\n * Constants for action creators\n */\nconst SET_AUTH_USER_DATA = 'social/auth/SET_AUTH_USER_DATA';\nconst GET_CAPTCHA_URL_SUCCESS = 'social/auth/GET_CAPTCHA_URL_SUCCESS';\n\n/**\n * INITIAL\n *\n * isAuth - [default: false] - Can be (true) or (false). If user is not authorized then (false) else (true)\n * captchaUrl - [default: null] - Con be (null) or (string). If captcha is not required then (null) else (string)\n * login - [default: null] - Con be (null) or (string). If user is not authorized then (null) else (string)\n * userId - [default: null] - Con be (null) or (string). If user is not authorized then (null) else (string)\n * email - [default: null] - Con be (null) or (string). If user is not authorized then (null) else (string)\n */\nconst initial = {\n    userId: null,\n    email: null,\n    login: null,\n    isAuth: false,\n    captchaUrl: null\n}\n\n/**\n * AUTH REDUCER\n *\n * Reducer takes a current (state) from store and (action) which action creator send him\n *\n * state - [default: initial] - Includes current state\n * action - [] - Includes action (type) and data\n *\n * return new State copy\n */\nexport const authReducer = (state = initial, action) => {\n    switch (action.type) {\n        case SET_AUTH_USER_DATA: {\n            return {\n                ...state,\n                ...action.payload,\n            }\n        }\n        case GET_CAPTCHA_URL_SUCCESS: {\n            return {\n                ...state,\n                captchaUrl: action.captchaUrl\n            }\n        }\n        default: {\n            return state;\n        }\n    }\n}\n\nconst setAuthUserData = (userId, email, login, isAuth) => (\n    {\n        type: SET_AUTH_USER_DATA,\n        payload: {userId, email, login, isAuth},\n    }\n)\n\nconst getCaptchaUrlSuccess = (captchaUrl) => (\n    {\n        type: GET_CAPTCHA_URL_SUCCESS,\n        captchaUrl: captchaUrl\n    }\n)\n\nexport const me = () => async (dispatch) => {\n    const data = await authAPI.me();\n\n    if (data.resultCode === 0) {\n        const {id, email, login} = data.data;\n\n        dispatch(setAuthUserData(id, email, login, true))\n    }\n}\n\nexport const login = (formData) => async (dispatch) => {\n    const data = await authAPI.login(formData);\n\n    if (data.resultCode === 0) {\n        dispatch(me());\n        dispatch(getCaptchaUrlSuccess(null));\n    } else {\n        if (data.resultCode === 10) {\n            dispatch(getCaptcha());\n        }\n\n        if (data.messages.length) {\n            alert(data.messages[0]);\n        }\n    }\n}\n\nexport const getCaptcha = () => async (dispatch) => {\n    const response = await securityAPI.getCaptchaUrl();\n    const captchaUrl = response.data.url;\n\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\n}\n\nexport const logout = () => async (dispatch) => {\n    const data = await authAPI.logout();\n\n    if (data.resultCode === 0) {\n        dispatch(setAuthUserData(null, null, null, false));\n    } else {\n        if (data.messages.length) {\n            alert(data.messages[0]);\n        }\n    }\n}","import React from 'react';\nimport Header from \"./Header\";\nimport {connect} from \"react-redux\";\nimport {logout} from \"../../Redux/reducers/authReducer\";\nimport {getIsAuthSelector, getLoginSelector} from \"../../Redux/selectors/authSelectors\";\n\nclass HeaderContainer extends React.Component {\n    render() {\n        return (\n            <Header\n                logout={this.props.logout}\n                isAuth={this.props.isAuth}\n                login={this.props.login}\n            />\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        isAuth: getIsAuthSelector(state),\n        login: getLoginSelector(state),\n    }\n}\n\n\nexport default connect(mapStateToProps, {\n    logout\n})(HeaderContainer);\n","import React from 'react';\nimport {Field, Form} from 'react-final-form'\nimport {Input} from \"../common/FormsControls/FormsControls\";\nimport {composeValidators, maxLength, required} from \"../../utils/validators/validators\";\nimport {connect} from \"react-redux\";\nimport {login} from \"../../Redux/reducers/authReducer\";\nimport {Redirect} from \"react-router-dom\";\nimport {getIsAuthSelector} from \"../../Redux/selectors/authSelectors\";\n\nconst LoginForm = ({onSubmit, captchaUrl}) => {\n    return (\n        <Form onSubmit={onSubmit}>\n            {(props) => {\n                return (\n                    <form onSubmit={props.handleSubmit} name={'LoginForm'}>\n                        <div>\n                            <Field\n                                name={'email'}\n                                placeholder={'Email'}\n                                component={Input}\n                                validate={composeValidators(required, maxLength(50))}\n                            />\n                        </div>\n                        <div>\n                            <Field\n                                name={'password'}\n                                placeholder={'Password'}\n                                type={'password'}\n                                component={Input}\n                                validate={composeValidators(required, maxLength(50))}\n                            />\n                        </div>\n                        <div>\n                            <Field name={'rememberMe'} type={'checkbox'} component={Input}/> remember me\n                        </div>\n                        {captchaUrl &&\n                        <div>\n                            <img src={captchaUrl} alt=\"captcha\"/>\n                            <div>\n                                <Field name={'captcha'} type={'text'} component={'input'}/>\n                            </div>\n                        </div>\n                        }\n                        <div>\n                            <button>Login</button>\n                        </div>\n                    </form>\n                )\n            }}\n        </Form>\n    )\n}\n\nconst Login = ({login, isAuth, captchaUrl}) => {\n    const onSubmit = (formData) => {\n        login(formData)\n    }\n\n    if (isAuth) {\n        return <Redirect to={'/profile'}/>\n    }\n\n    return (\n        <div>\n            <h1>LOGIN</h1>\n            <LoginForm onSubmit={onSubmit} captchaUrl={captchaUrl}/>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        isAuth: getIsAuthSelector(state),\n        captchaUrl: state.auth.captchaUrl\n    }\n}\n\nexport default connect(mapStateToProps, {\n    login\n})(Login);","import {me} from \"./authReducer\";\n\n/**\n * CONSTANTS\n *\n * Constants for action creators\n */\nconst INITIALIZED_SUCCESS = 'social/app/INITIALIZED_SUCCESS';\n\n/**\n * INITIAL\n *\n * initialized - [default: false] - Con be (false) or (true). If app is initialised then (true) else (false)\n * globalError - [default: null] - Con be (null) or (string). If app have some errors then (string) else (null)\n */\nconst initial = {\n    initialized: false,\n    globalError: null,\n}\n\nexport const appReducer = (state = initial, action) => {\n    switch (action.type) {\n        case INITIALIZED_SUCCESS: {\n            return {\n                ...state,\n                initialized: true\n            }\n        }\n        default: {\n            return state;\n        }\n    }\n}\n\nconst initializedSuccess = () => (\n    {\n        type: INITIALIZED_SUCCESS,\n    }\n)\n\nexport const initializeApp = () => (dispatch) => {\n    const promise = dispatch(me());\n\n    Promise.all([promise])\n        .then(() => {\n            dispatch(initializedSuccess());\n        })\n}","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport {profileReducer} from \"./reducers/profileReducer\";\nimport {dialogsReducer} from \"./reducers/dialogsReducer\";\nimport {usersReducer} from \"./reducers/usersReducer\";\nimport {authReducer} from \"./reducers/authReducer\";\nimport thunk from 'redux-thunk';\nimport {appReducer} from \"./reducers/appReducer\";\n\nconst reducers = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    app: appReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(\n    applyMiddleware(thunk)\n));\n\nwindow.store = store.getState();\n\nexport default store;","import React from 'react';\n\nexport const withSuspense = (Component) => {\n    const loading = <div>Loading...</div>;\n\n    return (props) => {\n        return (\n            <React.Suspense fallback={loading}>\n                <Component {...props}/>\n            </React.Suspense>\n        )\n    }\n}\n","import React from 'react';\nimport './App.css'\nimport Navbar from \"./components/Navbar/Navbar\";\nimport News from \"./components/News/News\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {HashRouter, Redirect, Route, withRouter} from \"react-router-dom\";\nimport {initializeApp} from \"./Redux/reducers/appReducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport store from \"./Redux/redux-store\";\nimport {withSuspense} from \"./hoc/withSuspense\";\n\nconst DialogsContainer = React.lazy(() => import (\"./components/Dialogs/DialogsContainer\"));\nconst ProfileContainer = React.lazy(() => import (\"./components/Profile/ProfileContainer\"));\nconst UsersContainer = React.lazy(() => import (\"./components/Users/UsersContainer\"));\n\nclass App extends React.Component {\n    componentDidMount() {\n        const {initializeApp} = this.props\n\n        initializeApp();\n    }\n\n    render() {\n        const {initialized} = this.props;\n\n        if (!initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className={'app-wrapper'}>\n                <HeaderContainer/>\n                <Navbar/>\n                <div className={'app-wrapper-content'}>\n                    <Redirect exact from=\"/\" to=\"/profile\"/>\n                    <Route render={withSuspense(DialogsContainer)} path={'/dialogs'}/>\n                    <Route render={withSuspense(ProfileContainer)} path={'/profile/:userId?'}/>\n                    <Route render={withSuspense(UsersContainer)} path={'/users'}/>\n                    <Route render={() => <News/>} path={'/news'}/>\n                    <Route render={() => <Music/>} path={'/music'}/>\n                    <Route render={() => <Settings/>} path={'/settings'}/>\n                    <Route render={() => <Login/>} path={'/login'}/>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        initialized: state.app.initialized,\n    }\n}\n\nconst AppContainer = compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp})\n)(App);\n\nconst SocialApp = (props) => {\n    return (\n        <React.StrictMode>\n            <HashRouter>\n                <Provider store={store}>\n                    <AppContainer/>\n                </Provider>\n            </HashRouter>\n        </React.StrictMode>\n    )\n}\n\nexport default SocialApp;","import './index.css';\nimport ReactDOM from \"react-dom\";\nimport React from 'react';\nimport SocialApp from \"./App\";\n\nReactDOM.render(<SocialApp/>, document.getElementById('root'));"],"sourceRoot":""}