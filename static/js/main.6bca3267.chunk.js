(this.webpackJsonpsocial=this.webpackJsonpsocial||[]).push([[0],{105:function(e,t,n){"use strict";t.a=n.p+"static/media/user.8d49e377.png"},106:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s}));var r=function(e){return e.profilePage.profile},c=function(e){return e.profilePage.profileStatus},a=function(e){return e.profilePage.posts},s=function(e){var t;return null===(t=e.profilePage.profile)||void 0===t?void 0:t.photos}},108:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return x})),n.d(t,"f",(function(){return S})),n.d(t,"g",(function(){return g})),n.d(t,"e",(function(){return m}));var r=n(9),c=n.n(r),a=n(30),s=n(7),i=n(1),u=n(19),o=function(e){return u.c.get("profile/".concat(e)).then((function(e){return e.data}))},l=function(e){return u.c.get("profile/status/".concat(e)).then((function(e){return e.data}))},j=function(e){return u.c.put("profile/status",{status:e}).then((function(e){return e}))},d=function(e){var t=new FormData;return t.append("image",e),u.c.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},f=function(e){return u.c.put("profile",e).then((function(e){return e.data}))},O={posts:[{id:1,message:"happy ny!",likes:3},{id:2,message:"it is my first post",likes:5}],profile:null,isFetching:!1,profileStatus:""},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SOCIAL/PROFILE/ADD_POST":return Object(i.a)(Object(i.a)({},e),{},{posts:[].concat(Object(s.a)(e.posts),[{id:3,message:t.postText,likes:0}])});case"SOCIAL/PROFILE/SET_USER_PROFILE":return Object(i.a)(Object(i.a)({},e),{},{profile:t.profile});case"SOCIAL/PROFILE/DELETE_POST":return Object(i.a)(Object(i.a)({},e),{},{posts:e.posts.filter((function(e){return e.id!==t.id}))});case"SOCIAL/PROFILE/SET_IS_FETCHING":return Object(i.a)(Object(i.a)({},e),{},{isFetching:t.isFetching});case"SOCIAL/PROFILE/SET_PROFILE_STATUS":return Object(i.a)(Object(i.a)({},e),{},{profileStatus:t.profileStatus});case"SOCIAL/PROFILE/UPDATE_PHOTO_SUCCESS":return Object(i.a)(Object(i.a)({},e),{},{profile:Object(i.a)(Object(i.a)({},e.profile),{},{photos:t.photos})});default:return e}},p={addPost:function(e){return{type:"SOCIAL/PROFILE/ADD_POST",postText:e.postText}},deletePost:function(e){return{type:"SOCIAL/PROFILE/DELETE_POST",id:e}},setUserProfile:function(e){return{type:"SOCIAL/PROFILE/SET_USER_PROFILE",profile:e}},setIsFetching:function(e){return{type:"SOCIAL/PROFILE/SET_IS_FETCHING",isFetching:e}},setProfileStatus:function(e){return{type:"SOCIAL/PROFILE/SET_PROFILE_STATUS",profileStatus:e}},updatePhotoSuccess:function(e){return{type:"SOCIAL/PROFILE/UPDATE_PHOTO_SUCCESS",photos:e}}},h=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n(p.setIsFetching(!0)),!e){t.next=8;break}return t.next=4,o(e);case 4:r=t.sent,n(p.setUserProfile(r)),t.next=9;break;case 8:throw new Error("userId can not be null");case 9:n(p.setIsFetching(!1));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(e);case 2:r=t.sent,n(p.setProfileStatus(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j(e);case 3:(r=t.sent).data.resultCode===u.b.Success?n(p.setProfileStatus(e)):r.data.messages.length&&alert(r.data.messages[0]),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),alert(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e);case 2:(r=t.sent).resultCode===u.b.Success?n(p.updatePhotoSuccess(r.data.photos)):r.messages.length&&alert(r.messages[0]);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){var a,s,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().auth.userId,t.next=3,f(e);case 3:if((s=t.sent).resultCode!==u.b.Success){t.next=13;break}if(!a){t.next=10;break}return t.next=8,n(h(a));case 8:t.next=11;break;case 10:throw new Error("userId can not be null");case 11:t.next=17;break;case 13:if(!(null===(i=s.messages)||void 0===i?void 0:i.length)){t.next=17;break}return alert(s.messages[0]),t.next=17,Promise.reject(s.messages[0]);case 17:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},128:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var r=n(7),c=n(1),a={dialogs:[{id:1,name:"Dima"},{id:2,name:"Andrew"}],messages:[{id:1,message:"HI!"},{id:2,message:"YO!"},{id:3,message:"Vlad! Happy NY!!"},{id:4,message:"Hi, how r u?"}]},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SOCIAL/DIALOGS/SEND_MESSAGE":return Object(c.a)(Object(c.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),[{id:5,message:t.messageText}])});default:return e}},i={sendMessage:function(e){return{type:"SOCIAL/DIALOGS/SEND_MESSAGE",messageText:e.messageText}}}},164:function(e,t,n){},168:function(e,t,n){},19:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var r,c,a=n(141),s=n.n(a).a.create({withCredentials:!0,headers:{"API-KEY":"5a02e0ce-1492-47cd-b69a-6445510cc320"},baseURL:"https://social-network.samuraijs.com/api/1.0/"});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(r||(r={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(c||(c={}))},249:function(e,t,n){"use strict";n.r(t);var r,c=n(2),a=(n(164),n(15)),s=n.n(a),i=n(0),u=n.n(i),o=n(10),l=n(12),j=n(13),d=n(14),f=(n(168),n(169),n(35)),O=n(52),b=n(260),p=n(261),h=n(255),x=n(259),S=n(258),g=function(e){var t=h.a.Sider,n=Object(f.g)().location.pathname,r=[{to:"/profile",name:"Profile",icon:Object(c.jsx)(b.a,{})},{to:"/users",name:"Users",icon:Object(c.jsx)(p.a,{})},{to:"/chat",name:"Chat",icon:Object(c.jsx)(p.a,{})}];return Object(c.jsx)(x.a,{offsetTop:100,children:Object(c.jsx)(t,{className:"site-layout-background",width:200,children:Object(c.jsx)(S.a,{mode:"inline",defaultSelectedKeys:["/"===n?r[0].to:n],style:{height:"100%"},children:r.map((function(e){return Object(c.jsx)(S.a.Item,{icon:e.icon,children:Object(c.jsx)(O.b,{to:e.to,children:e.name})},e.to)}))})})})},m=function(){return Object(c.jsx)(c.Fragment,{children:"news"})},v=function(){return Object(c.jsx)(c.Fragment,{children:"music"})},I=function(){return Object(c.jsx)(c.Fragment,{children:"settings"})},E=n(23),C=n(9),y=n.n(C),L=n(30),P=n(1),w=n(19),A=function(){return w.c.get("security/get-captcha-url").then((function(e){return e}))},T=function(){return w.c.get("auth/me").then((function(e){return e.data}))},_=function(e){return w.c.post("auth/login",e).then((function(e){return e.data}))},U=function(){return w.c.delete("auth/login").then((function(e){return e.data}))},R={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},F=function(e,t,n,r){return{type:"SOCIAL/AUTH/SET_AUTH_USER_DATA",payload:{userId:e,email:t,login:n,isAuth:r}}},k=function(e){return{type:"SOCIAL/AUTH/GET_CAPTCHA_URL_SUCCESS",captchaUrl:e}},N=function(){return function(){var e=Object(L.a)(y.a.mark((function e(t){var n,r,c,a,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:(n=e.sent).resultCode===w.b.Success&&(r=n.data,c=r.id,a=r.email,s=r.login,t(F(c,a,s,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},D=function(){return function(){var e=Object(L.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:n=e.sent,r=n.data.url,t(k(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},H=n(68),z=n(6),G=n(42);!function(e){e.email="email",e.password="password",e.rememberMe="rememberMe",e.captcha="captcha"}(r||(r={}));var M=u.a.memo((function(e){var t,n=e.login,a=e.captchaUrl,s=(t={},Object(z.a)(t,r.email,""),Object(z.a)(t,r.password,""),Object(z.a)(t,r.rememberMe,!1),t);return Object(c.jsx)(G.d,{onSubmit:function(e,t){var r=t.setSubmitting;n(e),r(!1)},initialValues:s,children:function(e){var t=e.isSubmitting;return Object(c.jsxs)(G.c,{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)(G.b,{type:"text",name:r.email}),Object(c.jsx)(G.a,{name:r.email,component:"div"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)(G.b,{type:"password",name:r.password}),Object(c.jsx)(G.a,{name:r.password,component:"div"})]}),Object(c.jsx)("div",{children:Object(c.jsxs)("label",{children:[Object(c.jsx)(G.b,{placeholder:"remember me",type:"checkbox",name:r.rememberMe}),"remember me",Object(c.jsx)(G.a,{name:r.rememberMe,component:"div"})]})}),a&&Object(c.jsxs)("div",{children:[Object(c.jsx)("img",{src:a,alt:"captcha"}),Object(c.jsxs)("div",{children:[Object(c.jsx)(G.b,{name:r.captcha,type:"text",component:"input"}),Object(c.jsx)(G.a,{name:r.captcha,component:"div"})]})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",disabled:t,children:"Login"})})]})}})})),J=function(e){var t=Object(E.d)(H.a),n=Object(E.d)(H.b),r=Object(E.c)();return n?Object(c.jsx)(f.a,{to:"/profile"}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{children:"LOGIN"}),Object(c.jsx)(M,{login:function(e){r(function(e){return function(){var t=Object(L.a)(y.a.mark((function t(n){var r,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(e);case 2:if((r=t.sent).resultCode!==w.b.Success){t.next=9;break}return t.next=6,n(N());case 6:n(k(null)),t.next=13;break;case 9:if(r.resultCode!==w.a.CaptchaIsRequired){t.next=12;break}return t.next=12,n(D());case 12:(null===(c=r.messages)||void 0===c?void 0:c.length)&&alert(r.messages[0]);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},captchaUrl:t})]})},W=n(57),V={initialized:!1},q=function(){return{type:"SOCIAL/APP/INITIALIZED_SUCCESS"}},X=n(84),Y=n(108),B=n(128),K=n(7),Z=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(P.a)(Object(P.a)({},e),r):e}))},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return w.c.get("users?count=".concat(e,"&page=").concat(t,"&term=").concat(n)+(r?"&friend=".concat(r):"")).then((function(e){return e.data}))},$=function(e){return w.c.post("follow/".concat(e)).then((function(e){return e.data}))},ee=function(e){return w.c.delete("follow/".concat(e)).then((function(e){return e.data}))},te={users:[],pageSize:5,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[],filter:{term:"",friend:null}},ne=function(e){return{type:"SOCIAL/USERS/FOLLOW",userId:e}},re=function(e){return{type:"SOCIAL/USERS/UNFOLLOW",userId:e}},ce=function(e){return{type:"SOCIAL/USERS/SET_USERS",users:e}},ae=function(e){return{type:"SOCIAL/USERS/SET_TOTAL_USERS_COUNT",totalUsersCount:e}},se=function(e){return{type:"SOCIAL/USERS/SET_CURRENT_PAGE",currentPage:e}},ie=function(e){return{type:"SOCIAL/USERS/SET_IS_FETCHING",isFetching:e}},ue=function(e,t){return{type:"SOCIAL/USERS/SET_FOLLOWING_IN_PROGRESS",isFetching:e,userId:t}},oe=function(e){return{type:"SOCIAL/USERS/SET_FILTER",payload:e}},le=function(){var e=Object(L.a)(y.a.mark((function e(t,n,r,c){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(n);case 2:a=e.sent,t(ue(!0,n)),a.resultCode===w.b.Success&&t(c(n)),t(ue(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,c){return e.apply(this,arguments)}}(),je=function(e,t,n){return function(){var r=Object(L.a)(y.a.mark((function r(c){var a;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c(ie(!0)),c(oe(n)),c(se(t)),r.next=5,Q(e,t,n.term,n.friend);case 5:a=r.sent,c(ce(a.items)),c(ae(a.totalCount)),c(ie(!1));case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},de=n(145),fe=Object(W.c)({profilePage:Y.d,dialogsPage:B.b,usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SOCIAL/USERS/FOLLOW":return Object(P.a)(Object(P.a)({},e),{},{users:Z(e.users,t.userId,"id",{followed:!0})});case"SOCIAL/USERS/UNFOLLOW":return Object(P.a)(Object(P.a)({},e),{},{users:Z(e.users,t.userId,"id",{followed:!1})});case"SOCIAL/USERS/SET_USERS":return Object(P.a)(Object(P.a)({},e),{},{users:t.users});case"SOCIAL/USERS/SET_TOTAL_USERS_COUNT":return Object(P.a)(Object(P.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"SOCIAL/USERS/SET_CURRENT_PAGE":return Object(P.a)(Object(P.a)({},e),{},{currentPage:t.currentPage});case"SOCIAL/USERS/SET_IS_FETCHING":return Object(P.a)(Object(P.a)({},e),{},{isFetching:t.isFetching});case"SOCIAL/USERS/SET_FOLLOWING_IN_PROGRESS":return Object(P.a)(Object(P.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(K.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});case"SOCIAL/USERS/SET_FILTER":return Object(P.a)(Object(P.a)({},e),{},{filter:t.payload});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SOCIAL/AUTH/SET_AUTH_USER_DATA":return Object(P.a)(Object(P.a)({},e),t.payload);case"SOCIAL/AUTH/GET_CAPTCHA_URL_SUCCESS":return Object(P.a)(Object(P.a)({},e),{},{captchaUrl:t.captchaUrl});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SOCIAL/APP/INITIALIZED_SUCCESS":return Object(P.a)(Object(P.a)({},e),{},{initialized:!0});default:return e}}}),Oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||W.d,be=Object(W.e)(fe,Oe(Object(W.a)(de.a)));function pe(e){var t=Object(c.jsx)("div",{children:"Loading..."});return function(n){return Object(c.jsx)(u.a.Suspense,{fallback:t,children:Object(c.jsx)(e,Object(P.a)({},n))})}}var he,xe=n(146),Se=function(e){return e.usersPage.pageSize},ge=function(e){return e.usersPage.totalUsersCount},me=function(e){return e.usersPage.currentPage},ve=function(e){return e.usersPage.isFetching},Ie=function(e){return e.usersPage.followingInProgress},Ee=function(e){return e.usersPage.filter},Ce=Object(xe.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),ye=n(105),Le=function(e){var t,n,r=e.unfollow,a=e.follow,s=e.followingInProgress,i=e.user,u=i.id,o=i.photos,l=i.name,j=i.status,d=i.followed;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("span",{children:[Object(c.jsx)("div",{children:Object(c.jsx)(O.b,{to:"/profile/"+u,children:Object(c.jsx)("img",{src:null!==(t=o.small)&&void 0!==t?t:ye.a,alt:"userAvatar",style:{maxWidth:50}})})}),Object(c.jsx)("div",{children:d?(n=u,Object(c.jsx)("button",{onClick:function(){r(n)},disabled:s.some((function(e){return e===n})),children:"Unfollow"})):function(e){return Object(c.jsx)("button",{onClick:function(){a(e)},disabled:s.some((function(t){return t===e})),children:"Follow"})}(u)})]}),Object(c.jsxs)("span",{children:[Object(c.jsxs)("span",{children:[Object(c.jsx)("div",{children:l}),Object(c.jsx)("div",{children:j})]}),Object(c.jsxs)("span",{children:[Object(c.jsx)("div",{children:"location.country"}),Object(c.jsx)("div",{children:"location.city"})]})]})]})};!function(e){e.term="term",e.friend="friend"}(he||(he={}));var Pe=u.a.memo((function(e){var t,n=e.onFilterChanged,r=Object(E.d)(Ee),a=(t={},Object(z.a)(t,he.term,r.term),Object(z.a)(t,he.friend,JSON.stringify(r.friend)),t);return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(G.d,{initialValues:a,enableReinitialize:!0,onSubmit:function(e,t){var r=t.setSubmitting,c={term:e.term,friend:JSON.parse(e.friend)};n(c),r(!1)},children:function(e){var t=e.isSubmitting;return Object(c.jsxs)(G.c,{children:[Object(c.jsx)(G.b,{type:"text",name:he.term}),Object(c.jsx)(G.a,{name:he.term,component:"div"}),Object(c.jsxs)(G.b,{name:he.friend,as:"select",children:[Object(c.jsx)("option",{value:"null",children:"All"}),Object(c.jsx)("option",{value:"true",children:"Only followed"}),Object(c.jsx)("option",{value:"false",children:"Only unfollowed"})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",disabled:t,children:"Search"})})]})}})})})),we=n(8),Ae=function(e){for(var t=e.totalItemsCount,n=e.pageSize,r=(e.currentPage,e.changePage),a=e.portionSize,s=void 0===a?5:a,u={paginator:{margin:10},pageNumber:{padding:2,border:"1px solid grey"},selectedPage:{fontWeight:"bold",borderColor:"black"}},o=Math.ceil(t/n),l=[],j=1;j<=o;j++)l.push(j);var d=Math.ceil(o/s),f=Object(i.useState)(1),O=Object(we.a)(f,2),b=O[0],p=O[1],h=(b-1)*s+1,x=b*s;return Object(c.jsxs)("div",{style:u.paginator,children:[b>1&&Object(c.jsx)("button",{onClick:function(){p(b-1)},children:"Prev"}),l.filter((function(e){return e>=h&&e<=x})).map((function(e){return Object(c.jsx)("span",{onClick:function(){return r(e)},style:u.pageNumber,children:e},e)})),d>b&&Object(c.jsx)("button",{onClick:function(){p(b+1)},children:"Prev"})]})},Te=n(104),_e=n.n(Te),Ue=function(e){var t=Object(E.d)(Ce),n=Object(E.d)(Ie),r=Object(E.d)(ge),a=Object(E.d)(me),s=Object(E.d)(Se),u=Object(E.d)(Ee),o=Object(E.c)(),l=Object(f.g)(),j=function(e){o(function(e){return function(){var t=Object(L.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le(n,e,ee,re);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},d=function(e){o(function(e){return function(){var t=Object(L.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,le(n,e,$,ne);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return Object(i.useEffect)((function(){o(je(s,a,u))}),[]),Object(i.useEffect)((function(){var e=_e.a.parse(l.location.search.substr(1)),t=a,n=u;e.page&&(t=JSON.parse(e.page)),e.term&&(n=Object(P.a)(Object(P.a)({},n),{},{term:e.term})),e.friend&&(n=Object(P.a)(Object(P.a)({},n),{},{friend:JSON.parse(e.friend)})),o(je(s,t,n))}),[]),Object(i.useEffect)((function(){var e={};u.term&&(e.term=u.term),null!==u.friend&&(e.friend=JSON.stringify(u.friend)),1!==a&&(e.page=JSON.stringify(a)),l.push({pathname:"/users",search:_e.a.stringify(e)})}),[u,a]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Pe,{onFilterChanged:function(e){o(je(s,1,e))}}),Object(c.jsx)(Ae,{currentPage:a,changePage:function(e){o(je(s,e,u))},totalItemsCount:r,pageSize:s}),t.map((function(e){return Object(c.jsx)(Le,{user:e,follow:d,unfollow:j,followingInProgress:n},e.id)}))]})},Re=function(e){var t=Object(E.d)(ve);return Object(c.jsxs)(c.Fragment,{children:[t&&Object(c.jsx)(X.a,{}),Object(c.jsx)(Ue,{})]})},Fe=n(256),ke=n(252),Ne=n(253),De=n(257),He=n(251),ze=n(262),Ge=n(106),Me=function(e){var t,n=h.a.Header,r=Fe.a.Text,a=Object(E.d)(H.b),s=Object(E.d)(H.c),i=Object(E.d)(Ge.d),u=Object(E.c)();return Object(c.jsx)(x.a,{offsetTop:0,children:Object(c.jsx)(n,{children:Object(c.jsxs)(ke.a,{children:[Object(c.jsx)(Ne.a,{span:21,children:Object(c.jsx)(r,{code:!0,style:{color:"white",fontSize:"2em"},children:"<AXT SOCIAL />"})}),a?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Ne.a,{span:1,children:Object(c.jsx)(De.a,{alt:"user avatar",src:null!==(t=null===i||void 0===i?void 0:i.small)&&void 0!==t?t:""})}),Object(c.jsx)(Ne.a,{span:1,children:Object(c.jsx)(r,{style:{color:"white"},children:s})}),Object(c.jsx)(Ne.a,{span:1,children:Object(c.jsx)(He.a,{type:"link",style:{color:"white"},shape:"circle",icon:Object(c.jsx)(ze.a,{}),onClick:function(){u(function(){var e=Object(L.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:(n=e.sent).resultCode===w.b.Success?t(F(null,null,null,!1)):(null===(r=n.messages)||void 0===r?void 0:r.length)&&alert(n.messages[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},size:"large"})})]}):Object(c.jsx)(Ne.a,{span:1,children:Object(c.jsx)(He.a,{children:Object(c.jsx)(O.b,{to:"/login",children:"Login"})})})]})})})},Je=function(e){var t=h.a.Footer;return Object(c.jsx)(x.a,{offsetBottom:0,children:Object(c.jsxs)(t,{style:{textAlign:"center"},children:["Social Network (2019 - 2021). Created by",Object(c.jsx)(He.a,{type:"link",href:"https://t.me/axtvlad",target:"_blank",rel:"noreferrer",children:"Axt Vladislav"})]})})},We=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),Ve=function(){var e=Object(i.useState)([]),t=Object(we.a)(e,2),n=t[0],r=t[1];Object(i.useEffect)((function(){We.addEventListener("message",(function(e){r((function(t){return[].concat(Object(K.a)(t),Object(K.a)(JSON.parse(e.data)))}))}))}),[]);var a=function(){return Object(c.jsx)("div",{style:{height:400,overflow:"auto"},children:n.map((function(e){return Object(c.jsx)(s,{message:e},e.userId+Math.random())}))})},s=function(e){var t=e.message;return Object(c.jsxs)("div",{children:[Object(c.jsx)(De.a,{src:t.photo,size:"large"})," ",Object(c.jsx)("b",{children:t.userName}),Object(c.jsx)("br",{}),t.message,Object(c.jsx)("hr",{})]})};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(a,{}),Object(c.jsx)(qe,{})]})},qe=function(){var e=Object(i.useState)(""),t=Object(we.a)(e,2),n=t[0],r=t[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:Object(c.jsx)("textarea",{onChange:function(e){return r(e.currentTarget.value)},value:n})}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{onClick:function(){n&&(We.send(n),r(""))},children:"Send"})})]})},Xe=u.a.lazy((function(){return n.e(4).then(n.bind(null,295))})),Ye=u.a.lazy((function(){return Promise.all([n.e(3),n.e(5)]).then(n.bind(null,294))})),Be=pe(Xe),Ke=pe(Ye),Ze=h.a.Content,Qe=function(e){Object(j.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.initializeApp)()}},{key:"render",value:function(){return this.props.initialized?Object(c.jsxs)(h.a,{children:[Object(c.jsx)(Me,{}),Object(c.jsx)(Ze,{style:{padding:"0 50px"},children:Object(c.jsxs)(h.a,{className:"site-layout-background",style:{padding:"24px 0"},children:[Object(c.jsx)(g,{}),Object(c.jsx)(Ze,{style:{padding:"0 24px",minHeight:280},children:Object(c.jsxs)(f.d,{children:[Object(c.jsx)(f.b,{render:function(){return Object(c.jsx)(Be,{})},path:"/dialogs"}),Object(c.jsx)(f.b,{render:function(){return Object(c.jsx)(Ke,{})},path:"/profile/:userId?"}),Object(c.jsx)(f.b,{render:function(){return Object(c.jsx)(Re,{})},path:"/users"}),Object(c.jsx)(f.b,{render:function(){return Object(c.jsx)(m,{})},path:"/news"}),Object(c.jsx)(f.b,{render:function(){return Object(c.jsx)(v,{})},path:"/music"}),Object(c.jsx)(f.b,{render:function(){return Object(c.jsx)(I,{})},path:"/settings"}),Object(c.jsx)(f.b,{render:function(){return Object(c.jsx)(J,{})},path:"/login"}),Object(c.jsx)(f.b,{render:function(){return Object(c.jsx)(Ve,{})},path:"/chat"}),Object(c.jsx)(f.a,{exact:!0,from:"/",to:"/profile"})]})})]})}),Object(c.jsx)(Je,{})]}):Object(c.jsx)(X.a,{})}}]),n}(u.a.Component),$e=Object(W.d)(f.h,Object(E.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(N());Promise.all([t]).then((function(){e(q())}))}}}))(Qe),et=function(){return Object(c.jsx)(O.a,{children:Object(c.jsx)(E.a,{store:be,children:Object(c.jsx)($e,{})})})};s.a.render(Object(c.jsx)(et,{}),document.getElementById("root"))},68:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s}));var r=function(e){return e.auth.isAuth},c=function(e){return e.auth.login},a=function(e){return e.auth.userId},s=function(e){return e.auth.captchaUrl}},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),c=(n(0),n(250)),a=function(){return Object(r.jsx)(c.a,{spinning:!0,size:"large"})}}},[[249,1,2]]]);
//# sourceMappingURL=main.6bca3267.chunk.js.map