{"version":3,"sources":["components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","Redux/dialogsSelectors.js","components/Dialogs/DialogsContainer.jsx","hoc/WithAuthRedirect.jsx","components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/Dialogs/Message/Message.module.css"],"names":["DialogItem","id","name","className","classes","dialog","active","to","activeClassName","Message","message","AddMessageForm","onSubmit","props","handleSubmit","component","Textarea","placeholder","validate","composeValidators","required","maxLength","Dialogs","messages","sendMessage","dialogs","messagesList","map","item","dialogsList","dialogsItems","values","messageText","getDialogs","state","dialogsPage","getMessages","compose","connect","withAuthRedirect","mapStateToProps","isAuth","getIsAuthSelector","Component","RedirectComponent","this","React","module","exports"],"mappings":"6KAceA,EAVI,SAAC,GAAgB,IAAfC,EAAc,EAAdA,GAAIC,EAAU,EAAVA,KAGrB,OACI,qBAAKC,UAAS,UAAKC,IAAQC,OAAb,YAAuBD,IAAQE,QAA7C,SACI,cAAC,IAAD,CAASC,GAJN,YAIiBN,EAAIO,gBAAiBJ,IAAQE,OAAjD,SAA0DJ,O,iBCEvDO,EARC,SAAC,GAAe,IAAdC,EAAa,EAAbA,QACd,OACI,qBAAKP,UAAWC,IAAQM,QAAxB,SACKA,K,wBCEPC,EAAiB,SAAC,GAAgB,IAAfC,EAAc,EAAdA,SACrB,OACI,cAAC,IAAD,CAAMA,SAAUA,EAAhB,SACK,SAACC,GACE,OACI,uBAAMD,SAAUC,EAAMC,aAAcZ,KAAM,iBAA1C,UACI,8BACI,cAAC,IAAD,CACIA,KAAM,cACNa,UAAWC,IACXC,YAAa,eACbC,SAAUC,YAAkBC,IAAUC,YAAU,UAGxD,8BACI,mDA8CbC,EAnCC,SAAC,GAAsC,IAArCC,EAAoC,EAApCA,SAAUC,EAA0B,EAA1BA,YAAaC,EAAa,EAAbA,QACjCC,EAAeH,EAASI,KAAI,SAAAC,GAAI,OAChC,cAAC,EAAD,CAEIlB,QAASkB,EAAKlB,QACdT,GAAI2B,EAAK3B,IAFJ2B,EAAK3B,OAMd4B,EAAcJ,EAAQE,KAAI,SAAAC,GAAI,OAC9B,cAAC,EAAD,CAEI1B,KAAM0B,EAAK1B,KACXD,GAAI2B,EAAK3B,IAFJ2B,EAAK3B,OAUlB,OACI,sBAAKE,UAAWC,IAAQqB,QAAxB,UACI,qBAAKtB,UAAWC,IAAQ0B,aAAxB,SACKD,IAEL,sBAAK1B,UAAWC,IAAQmB,SAAxB,UACKG,EACD,cAAC,EAAD,CAAgBd,SAXL,SAACmB,GACpBP,EAAYO,EAAOC,uB,wBCpDdC,EAAa,SAACC,GACvB,OAAOA,EAAMC,YAAYV,SAGhBW,EAAc,SAACF,GACxB,OAAOA,EAAMC,YAAYZ,UCSdc,sBACXC,aARkB,SAACJ,GACnB,MAAO,CACHT,QAASQ,EAAWC,GACpBX,SAAUa,EAAYF,MAKD,CACrBV,kBAEJe,IAJWF,CAKbf,I,2JCdEkB,EAAkB,SAACN,GACnB,MAAO,CACHO,OAAQC,YAAkBR,KAIrBK,EAAmB,SAACI,GAAe,IACtCC,EADqC,uKAGnC,OAAKC,KAAKhC,MAAM4B,OAIT,cAACE,EAAD,eAAeE,KAAKhC,QAHhB,cAAC,IAAD,CAAUN,GAAI,eAJU,GACXuC,IAAMH,WAYtC,OAFiCL,YAAQE,EAARF,CAAyBM,K,mBCrB9DG,EAAOC,QAAU,CAAC,QAAU,yBAAyB,gBAAgB,+BAA+B,OAAS,wBAAwB,OAAS,wBAAwB,SAAW,4B,mBCAjLD,EAAOC,QAAU,CAAC,QAAU,4BAA4B,OAAS,2BAA2B,OAAS,6B,mBCArGD,EAAOC,QAAU,CAAC,QAAU","file":"static/js/5.ae268d2e.chunk.js","sourcesContent":["import React from 'react';\nimport classes from './DialogItem.module.css'\nimport {NavLink} from \"react-router-dom\";\n\nconst DialogItem = ({id, name}) => {\n    let path = '/dialogs/';\n\n    return (\n        <div className={`${classes.dialog} ${classes.active}`}>\n            <NavLink to={path + id} activeClassName={classes.active}>{name}</NavLink>\n        </div>\n    )\n}\n\nexport default DialogItem;","import React from 'react';\nimport classes from './Message.module.css'\n\nconst Message = ({message}) => {\n    return (\n        <div className={classes.message}>\n            {message}\n        </div>\n    )\n}\n\nexport default Message;","import React from 'react';\nimport classes from './Dialogs.module.css'\nimport DialogItem from \"./DialogItem/DialogItem\";\nimport Message from \"./Message/Message\";\nimport {Field, Form} from \"react-final-form\";\nimport {Textarea} from \"../common/FormsControls/FormsControls\";\nimport {composeValidators, maxLength, required} from \"../../utils/validators/validators\";\n\nconst AddMessageForm = ({onSubmit}) => {\n    return (\n        <Form onSubmit={onSubmit}>\n            {(props) => {\n                return (\n                    <form onSubmit={props.handleSubmit} name={'AddMessageForm'}>\n                        <div>\n                            <Field\n                                name={'messageText'}\n                                component={Textarea}\n                                placeholder={'Enter ur msg'}\n                                validate={composeValidators(required, maxLength(100))}\n                            />\n                        </div>\n                        <div>\n                            <button>\n                                Send\n                            </button>\n                        </div>\n                    </form>\n                )\n            }}\n        </Form>\n    )\n}\n\nconst Dialogs = ({messages, sendMessage, dialogs}) => {\n    let messagesList = messages.map(item =>\n        <Message\n            key={item.id}\n            message={item.message}\n            id={item.id}\n        />\n    );\n\n    let dialogsList = dialogs.map(item =>\n        <DialogItem\n            key={item.id}\n            name={item.name}\n            id={item.id}\n        />\n    );\n\n    const sendNewMessage = (values) => {\n        sendMessage(values.messageText);\n    }\n\n    return (\n        <div className={classes.dialogs}>\n            <div className={classes.dialogsItems}>\n                {dialogsList}\n            </div>\n            <div className={classes.messages}>\n                {messagesList}\n                <AddMessageForm onSubmit={sendNewMessage}/>\n            </div>\n\n        </div>\n    )\n}\n\nexport default Dialogs;","export const getDialogs = (state) => {\n    return state.dialogsPage.dialogs;\n}\n\nexport const getMessages = (state) => {\n    return state.dialogsPage.messages;\n}","import {sendMessage} from \"../../Redux/dialogsReducer\";\nimport Dialogs from \"./Dialogs\";\nimport {connect} from \"react-redux\";\nimport {withAuthRedirect} from \"../../hoc/WithAuthRedirect\";\nimport {compose} from \"redux\";\nimport {getDialogs, getMessages} from \"../../Redux/dialogsSelectors\";\n\nlet mapStateToProps = (state) => {\n    return {\n        dialogs: getDialogs(state),\n        messages: getMessages(state)\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, {\n        sendMessage,\n    }),\n    withAuthRedirect,\n)(Dialogs);","import React from 'react';\nimport {Redirect} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\nimport {getIsAuthSelector} from \"../Redux/authSelectors\";\n\nlet mapStateToProps = (state) => {\n    return {\n        isAuth: getIsAuthSelector(state),\n    }\n}\n\nexport const withAuthRedirect = (Component) => {\n    class RedirectComponent extends React.Component {\n        render() {\n            if (!this.props.isAuth) {\n                return <Redirect to={'/login'}/>\n            }\n\n            return <Component {...this.props} />\n        }\n    }\n\n    let ConnectedRedirectComponent = connect(mapStateToProps)(RedirectComponent);\n\n    return ConnectedRedirectComponent;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2xRSA\",\"dialogs-items\":\"Dialogs_dialogs-items__11igu\",\"dialog\":\"Dialogs_dialog__lk_cw\",\"active\":\"Dialogs_active__2sQhs\",\"messages\":\"Dialogs_messages__1w_Up\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"DialogItem_dialogs__3-Pix\",\"dialog\":\"DialogItem_dialog__3tDA2\",\"active\":\"DialogItem_active__2qnc5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__1MOXo\"};"],"sourceRoot":""}