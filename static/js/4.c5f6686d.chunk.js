(this.webpackJsonpsocial=this.webpackJsonpsocial||[]).push([[4],{119:function(e,t,n){e.exports={pic:"ProfileInfo_pic__1mRKR",descriptionBloc:"ProfileInfo_descriptionBloc__3Wn3N",avatar:"ProfileInfo_avatar__3xuFq"}},120:function(e,t,n){e.exports={gridFields:"ProfileDataForm_gridFields__1mXzU",checkbox:"ProfileDataForm_checkbox__2pU65",span:"ProfileDataForm_span__1MELd"}},121:function(e,t,n){e.exports={contact:"Contact_contact__-jpbO"}},122:function(e,t,n){e.exports={item:"Post_item__ihtu9",posts:"Post_posts__144VX",ava:"Post_ava__2EGbS"}},123:function(e,t,n){e.exports={postsBloc:"MyPosts_postsBloc__Naxu4",posts:"MyPosts_posts__3tZ1c"}},211:function(e,t,n){"use strict";n.r(t);var o,a=n(23),r=n(24),i=n(26),c=n(25),s=n(1),l=n(0),u=n.n(l),j=n(2),b=n(95),d=n(119),p=n.n(d),f=n(93),O=function(e){var t=e.profileStatus,n=e.updateProfileStatus,o=Object(l.useState)(!1),a=Object(b.a)(o,2),r=a[0],i=a[1],c=Object(l.useState)(t),u=Object(b.a)(c,2),j=u[0],d=u[1];Object(l.useEffect)((function(){d(t)}),[t]);return Object(s.jsxs)("div",{children:[!r&&Object(s.jsx)("div",{children:Object(s.jsx)("b",{children:Object(s.jsx)("span",{id:"profileStatus",onDoubleClick:function(){i(!0)},children:t||"----"})})}),r&&Object(s.jsx)("div",{children:Object(s.jsx)("input",{onChange:function(e){var t=e.target.value;d(t)},onBlur:function(){i(!1),n(j)},value:j,type:"text",autoFocus:!0})})]})},h=n(19),x=n(16),m=n(120),v=n.n(m);!function(e){e.fullName="fullName",e.lookingForAJob="lookingForAJob",e.lookingForAJobDescription="lookingForAJobDescription",e.aboutMe="aboutMe"}(o||(o={}));var g,P=function(e){var t=e.onSubmit,n=e.profile,a=n.fullName,r=n.lookingForAJob,i=n.lookingForAJobDescription,c=n.aboutMe,l=n.contacts;return Object(s.jsx)(h.b,{onSubmit:t,children:function(e){return Object(s.jsxs)("form",{onSubmit:e.handleSubmit,name:"ProfileDataForm",className:v.a.gridFields,children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{className:v.a.span,children:"Full name:"}),Object(s.jsx)(h.a,{name:o.fullName,placeholder:"Full name",type:"text",component:"input",validate:x.c,initialValue:a})]}),Object(s.jsxs)("div",{className:v.a.checkbox,children:[Object(s.jsx)("span",{className:v.a.span,children:"Looking for a job?"}),Object(s.jsx)(h.a,{name:o.lookingForAJob,placeholder:"Looking for a job?",type:"checkbox",component:"input",initialValue:r})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{className:v.a.span,children:"My skills"}),Object(s.jsx)(h.a,{name:o.lookingForAJobDescription,placeholder:"My skills",component:"textarea",validate:x.c,initialValue:i})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{className:v.a.span,children:"About me"}),Object(s.jsx)(h.a,{name:o.aboutMe,placeholder:"About me",component:"textarea",validate:x.c,initialValue:c})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"Contacts"}),":",Object.keys(l).map((function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("span",{className:v.a.span,children:e}),Object(s.jsx)(h.a,{name:"contacts."+e,placeholder:e,type:"text",component:"input",initialValue:l[e]})]},e)}))]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})}})},_=n(121),k=n.n(_),y=function(e){var t=e.contactTitle,n=e.contactValue;return Object(s.jsxs)("div",{className:k.a.contact,children:[Object(s.jsx)("b",{children:t}),": ",Object(s.jsx)("a",{href:n,target:"_blank",rel:"noreferrer",children:n})]})},S=function(e){var t=e.profile,n=e.editModeOn,o=e.isOwner,a=t.fullName,r=t.lookingForAJob,i=t.lookingForAJobDescription,c=t.aboutMe,l=t.contacts;return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"Full name"}),": ",a]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"Looking for a job"}),": ",r?"yes":"no"]}),r&&Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"My skills"}),": ",i]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"About me"}),": ",c]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:"Contacts"}),":",Object.keys(l).map((function(e){return Object(s.jsx)(y,{contactTitle:e,contactValue:l[e]},e)}))]}),o&&Object(s.jsx)("div",{children:Object(s.jsx)("button",{onClick:n,children:"Edit user's data"})})]})},A=function(e){var t=e.profile,n=e.updateProfileStatus,o=e.profileStatus,a=e.isOwner,r=e.uploadPhoto,i=e.saveProfileData,c=Object(l.useState)(!1),u=Object(b.a)(c,2),j=u[0],d=u[1];return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:p.a.descriptionBloc,children:[Object(s.jsx)("img",{src:t.photos.large||f.a,alt:"avatar",className:p.a.avatar}),a&&Object(s.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files;t&&r(t[0])}}),a&&j?Object(s.jsx)(P,{onSubmit:function(e){i(e).then((function(){d(!1)}))},profile:t}):Object(s.jsx)(S,{editModeOn:function(){d(!0)},profile:t,isOwner:a}),Object(s.jsx)(O,{profileStatus:o,updateProfileStatus:n})]})})},F=n(43),N=n(18),D=n(122),M=n.n(D),J=function(e){var t=e.profile,n=e.message,o=e.likes;return Object(s.jsxs)("div",{className:M.a.posts,children:[Object(s.jsxs)("div",{className:M.a.item,children:[Object(s.jsx)("img",{className:M.a.ava,src:t&&t.photos.small?t.photos.small:f.a,alt:"ava"}),n]}),Object(s.jsx)("div",{children:Object(s.jsxs)("span",{children:["like ",o]})})]})},I=n(123),w=n.n(I),C=n(29);!function(e){e.postText="postText"}(g||(g={}));var V=function(e){var t=e.onSubmit;return Object(s.jsx)(h.b,{onSubmit:t,children:function(e){return Object(s.jsxs)("form",{onSubmit:e.handleSubmit,name:"AddPostForm",children:[Object(s.jsx)("div",{children:Object(s.jsx)(h.a,{component:C.b,name:g.postText,validate:Object(x.a)(x.c,Object(x.b)(300)),placeholder:"post msg"})}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{children:"Add post"})})]})}})},B=u.a.memo((function(e){var t=e.posts,n=e.profile,o=e.addPost,a=Object(N.a)(t).reverse().map((function(e){return Object(s.jsx)(J,{profile:n,message:e.message,likes:e.likes},e.id)}));return Object(s.jsxs)("div",{className:w.a.postsBloc,children:[Object(s.jsx)("h3",{children:"my posts"}),Object(s.jsx)(V,{onSubmit:function(e){var t=e.postText;o(t)}}),Object(s.jsx)("div",{className:w.a.posts,children:a})]})})),T=n(15),E=function(e){return e.profilePage.profile},U=function(e){return e.profilePage.profileStatus},L=function(e){return e.profilePage.posts},R=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this.props,t=e.posts,n=e.addPost,o=e.profile;return Object(s.jsx)(B,{posts:t,addPost:n,profile:o})}}]),n}(u.a.Component),X=Object(T.b)((function(e){return{posts:L(e),profile:E(e)}}),{addPost:function(e){return F.a.addPost(e)}})(R),q=n(39),z=function(e){return e.profile?Object(s.jsxs)("div",{children:[Object(s.jsx)(A,Object(j.a)({},e)),Object(s.jsx)(X,{})]}):Object(s.jsx)(q.a,{})},G=n(7),K=n(96),W=n(13),Z=n(20),H=function(e){Object(i.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).refreshProfile=function(){var t=e.props,n=t.match,o=t.currentUserId,a=t.getProfile,r=t.getProfileStatus,i=+n.params.userId;if(!i&&!(i=o))return Object(s.jsx)(G.a,{to:"/login"});a(i),r(i)},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){var e=this.props,t=e.profile,n=e.updateProfileStatus,o=e.profileStatus,a=e.match,r=e.uploadPhoto,i=e.saveProfileData;return t?Object(s.jsx)(z,{isOwner:!a.params.userId,profile:t,updateProfileStatus:n,profileStatus:o,uploadPhoto:r,saveProfileData:i}):Object(s.jsx)(q.a,{})}}]),n}(u.a.Component);t.default=Object(W.d)(Object(T.b)((function(e){return{profile:E(e),currentUserId:Object(Z.c)(e),profileStatus:U(e),isAuth:Object(Z.a)(e)}}),{getProfile:F.b,getProfileStatus:F.c,updateProfileStatus:F.f,uploadPhoto:F.g,saveProfileData:F.e}),G.g,K.a)(H)},93:function(e,t,n){"use strict";t.a=n.p+"static/media/user.8d49e377.png"},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(42);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,a=!1,r=void 0;try{for(var i,c=e[Symbol.iterator]();!(o=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(s){a=!0,r=s}finally{try{o||null==c.return||c.return()}finally{if(a)throw r}}return n}}(e,t)||Object(o.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},96:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n(2),a=n(30),r=n(1),i=(n(0),n(7)),c=n(15),s=n(20),l=function(e){return{isAuth:Object(s.a)(e)}};function u(e){return Object(c.b)(l)((function(t){t.isAuth;var n=Object(a.a)(t,["isAuth"]);return t.isAuth?Object(r.jsx)(e,Object(o.a)({},n)):Object(r.jsx)(i.a,{to:"/login"})}))}}}]);
//# sourceMappingURL=4.c5f6686d.chunk.js.map